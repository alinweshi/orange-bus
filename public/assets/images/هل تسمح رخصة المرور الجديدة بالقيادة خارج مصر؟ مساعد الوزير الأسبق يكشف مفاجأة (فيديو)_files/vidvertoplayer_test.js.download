!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("VidvertoPlayer",e):t.VidvertoPlayer=e()}(this,function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}var i,s,r=function(t){return t&&t.Math===Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||t||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},a=!o(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),h=!o(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),l=Function.prototype.call,u=h?l.bind(l):function(){return l.apply(l,arguments)},d={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,v={f:c&&!d.call({1:2},1)?function(t){var e=c(this,t);return!!e&&e.enumerable}:d},p=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},f=Function.prototype,_=f.call,m=h&&f.bind.bind(_,_),g=h?m:function(t){return function(){return _.apply(t,arguments)}},y=g({}.toString),w=g("".slice),b=Object,k=g("".split),P=o(function(){return!b("z").propertyIsEnumerable(0)})?function(t){return"String"===function(t){return w(y(t),8,-1)}(t)?k(t,""):b(t)}:b,j=function(t){return null==t},x=TypeError,O=function(t){if(j(t))throw new x("Can't call method on "+t);return t},T=function(t){return P(O(t))},E="object"==typeof document&&document.all,M={all:E,IS_HTMLDDA:void 0===E&&void 0!==E},S=M.all,A=M.IS_HTMLDDA?function(t){return"function"==typeof t||t===S}:function(t){return"function"==typeof t},I=M.all,$=M.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:A(t)||t===I}:function(t){return"object"==typeof t?null!==t:A(t)},C=function(t,e){return arguments.length<2?(i=n[t],A(i)?i:void 0):n[t]&&n[t][e];var i},R=g({}.isPrototypeOf),z="undefined"!=typeof navigator&&String(navigator.userAgent)||"",F=n.process,V=n.Deno,L=F&&F.versions||V&&V.version,D=L&&L.v8;D&&(s=(i=D.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&z&&(!(i=z.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=z.match(/Chrome\/(\d+)/))&&(s=+i[1]);var U,N=s,q=n.String,B=!!Object.getOwnPropertySymbols&&!o(function(){var t=Symbol("symbol detection");return!q(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&N&&N<41}),H=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,W=Object,G=H?function(t){return"symbol"==typeof t}:function(t){var e=C("Symbol");return A(e)&&R(e.prototype,W(t))},J=String,K=TypeError,X=function(t){if(A(t))return t;throw new K(function(t){try{return J(t)}catch(t){return"Object"}}(t)+" is not a function")},Y=TypeError,Q=Object.defineProperty,Z=function(t,e){try{Q(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e},tt=n["__core-js_shared__"]||Z("__core-js_shared__",{}),et=e(function(t){(t.exports=function(t,e){return tt[t]||(tt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.1",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),it=Object,st=g({}.hasOwnProperty),rt=Object.hasOwn||function(t,e){return st(it(O(t)),e)},nt=0,ot=Math.random(),at=g(1..toString),ht=function(t){return"Symbol("+(void 0===t?"":t)+")_"+at(++nt+ot,36)},lt=n.Symbol,ut=et("wks"),dt=H?lt.for||lt:lt&&lt.withoutSetter||ht,ct=TypeError,vt=(rt(ut,U="toPrimitive")||(ut[U]=B&&rt(lt,U)?lt[U]:dt("Symbol."+U)),ut[U]),pt=function(t,e){if(!$(t)||G(t))return t;var i,s,r=(i=t[vt],j(i)?void 0:X(i));if(r){if(void 0===e&&(e="default"),s=u(r,t,e),!$(s)||G(s))return s;throw new ct("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var i,s;if("string"===e&&A(i=t.toString)&&!$(s=u(i,t)))return s;if(A(i=t.valueOf)&&!$(s=u(i,t)))return s;if("string"!==e&&A(i=t.toString)&&!$(s=u(i,t)))return s;throw new Y("Can't convert object to primitive value")}(t,e)},ft=function(t){var e=pt(t,"string");return G(e)?e:e+""},_t=n.document,mt=$(_t)&&$(_t.createElement),gt=!a&&!o(function(){return 7!==Object.defineProperty((t="div",mt?_t.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),yt=Object.getOwnPropertyDescriptor,wt={f:a?yt:function(t,e){if(t=T(t),e=ft(e),gt)try{return yt(t,e)}catch(t){}if(rt(t,e))return p(!u(v.f,t,e),t[e])}},bt=a&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),kt=String,Pt=TypeError,jt=function(t){if($(t))return t;throw new Pt(kt(t)+" is not an object")},xt=TypeError,Ot=Object.defineProperty,Tt=Object.getOwnPropertyDescriptor,Et={f:a?bt?function(t,e,i){if(jt(t),e=ft(e),jt(i),"function"==typeof t&&"prototype"===e&&"value"in i&&"writable"in i&&!i.writable){var s=Tt(t,e);s&&s.writable&&(t[e]=i.value,i={configurable:"configurable"in i?i.configurable:s.configurable,enumerable:"enumerable"in i?i.enumerable:s.enumerable,writable:!1})}return Ot(t,e,i)}:Ot:function(t,e,i){if(jt(t),e=ft(e),jt(i),gt)try{return Ot(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new xt("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},Mt=a?function(t,e,i){return Et.f(t,e,p(1,i))}:function(t,e,i){return t[e]=i,t},St=Function.prototype,At=a&&Object.getOwnPropertyDescriptor,It=rt(St,"name"),$t={EXISTS:It,PROPER:It&&"something"===function(){}.name,CONFIGURABLE:It&&(!a||a&&At(St,"name").configurable)},Ct=g(Function.toString);A(tt.inspectSource)||(tt.inspectSource=function(t){return Ct(t)});var Rt,zt,Ft,Vt,Lt=tt.inspectSource,Dt=n.WeakMap,Ut=A(Dt)&&/native code/.test(String(Dt)),Nt=et("keys"),qt={},Bt=n.TypeError,Ht=n.WeakMap;if(Ut||tt.state){var Wt=tt.state||(tt.state=new Ht);Wt.get=Wt.get,Wt.has=Wt.has,Wt.set=Wt.set,Rt=function(t,e){if(Wt.has(t))throw new Bt("Object already initialized");return e.facade=t,Wt.set(t,e),e},zt=function(t){return Wt.get(t)||{}},Ft=function(t){return Wt.has(t)}}else{var Gt=Nt[Vt="state"]||(Nt[Vt]=ht(Vt));qt[Gt]=!0,Rt=function(t,e){if(rt(t,Gt))throw new Bt("Object already initialized");return e.facade=t,Mt(t,Gt,e),e},zt=function(t){return rt(t,Gt)?t[Gt]:{}},Ft=function(t){return rt(t,Gt)}}var Jt={set:Rt,get:zt,has:Ft,enforce:function(t){return Ft(t)?zt(t):Rt(t,{})},getterFor:function(t){return function(e){var i;if(!$(e)||(i=zt(e)).type!==t)throw new Bt("Incompatible receiver, "+t+" required");return i}}},Kt=e(function(t){var e=$t.CONFIGURABLE,i=Jt.enforce,s=Jt.get,r=String,n=Object.defineProperty,h=g("".slice),l=g("".replace),u=g([].join),d=a&&!o(function(){return 8!==n(function(){},"length",{value:8}).length}),c=String(String).split("String"),v=t.exports=function(t,s,o){"Symbol("===h(r(s),0,7)&&(s="["+l(r(s),/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(s="get "+s),o&&o.setter&&(s="set "+s),(!rt(t,"name")||e&&t.name!==s)&&(a?n(t,"name",{value:s,configurable:!0}):t.name=s),d&&o&&rt(o,"arity")&&t.length!==o.arity&&n(t,"length",{value:o.arity});try{o&&rt(o,"constructor")&&o.constructor?a&&n(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var v=i(t);return rt(v,"source")||(v.source=u(c,"string"==typeof s?s:"")),t};Function.prototype.toString=v(function(){return A(this)&&s(this).source||Lt(this)},"toString")}),Xt=function(t,e,i,s){s||(s={});var r=s.enumerable,n=void 0!==s.name?s.name:e;if(A(i)&&Kt(i,n,s),s.global)r?t[e]=i:Z(e,i);else{try{s.unsafe?t[e]&&(r=!0):delete t[e]}catch(t){}r?t[e]=i:Et.f(t,e,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t},Yt=Math.ceil,Qt=Math.floor,Zt=Math.trunc||function(t){var e=+t;return(e>0?Qt:Yt)(e)},te=function(t){var e=+t;return e!=e||0===e?0:Zt(e)},ee=Math.max,ie=Math.min,se=Math.min,re=function(t){return(e=t.length)>0?se(te(e),9007199254740991):0;var e},ne=function(t){return function(e,i,s){var r,n=T(e),o=re(n),a=function(t,e){var i=te(t);return i<0?ee(i+e,0):ie(i,e)}(s,o);if(t&&i!=i){for(;o>a;)if((r=n[a++])!=r)return!0}else for(;o>a;a++)if((t||a in n)&&n[a]===i)return t||a||0;return!t&&-1}},oe={includes:ne(!0),indexOf:ne(!1)}.indexOf,ae=g([].push),he=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),le={f:Object.getOwnPropertyNames||function(t){return function(t,e){var i,s=T(t),r=0,n=[];for(i in s)!rt(qt,i)&&rt(s,i)&&ae(n,i);for(;e.length>r;)rt(s,i=e[r++])&&(~oe(n,i)||ae(n,i));return n}(t,he)}},ue={f:Object.getOwnPropertySymbols},de=g([].concat),ce=C("Reflect","ownKeys")||function(t){var e=le.f(jt(t)),i=ue.f;return i?de(e,i(t)):e},ve=function(t,e,i){for(var s=ce(e),r=Et.f,n=wt.f,o=0;o<s.length;o++){var a=s[o];rt(t,a)||i&&rt(i,a)||r(t,a,n(e,a))}},pe=/#|\.prototype\./,fe=function(t,e){var i=me[_e(t)];return i===ye||i!==ge&&(A(e)?o(e):!!e)},_e=fe.normalize=function(t){return String(t).replace(pe,".").toLowerCase()},me=fe.data={},ge=fe.NATIVE="N",ye=fe.POLYFILL="P",we=fe,be=wt.f,ke=TypeError,Pe=function(t){var e,i;this.promise=new t(function(t,s){if(void 0!==e||void 0!==i)throw new ke("Bad Promise constructor");e=t,i=s}),this.resolve=X(e),this.reject=X(i)},je=function(t){return new Pe(t)};!function(t,e){var i,s,r,o,a,h=t.target,l=t.global,u=t.stat;if(i=l?n:u?n[h]||Z(h,{}):(n[h]||{}).prototype)for(s in e){if(o=e[s],r=t.dontCallGetSet?(a=be(i,s))&&a.value:i[s],!we(l?s:h+(u?".":"#")+s,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;ve(o,r)}(t.sham||r&&r.sham)&&Mt(o,"sham",!0),Xt(i,s,o,t)}}({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=je(this),i=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}}),function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var i,s;return(e=e||{}).bubbles=!!e.bubbles,e.cancelable=!!e.cancelable,(i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s=i.preventDefault,i.preventDefault=function(){s.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},i};e.prototype=window.Event.prototype,window.CustomEvent=e}}();const xe={code:null,autoplay:!1,site_logo:null,site_link:null,vidverto_logo:"https://ad.vidverto.io/vidverto/player/logo.svg",vidverto_report_url:"https://vidverto.io/bug-report/",vidverto_url:"https://vidverto.io/",media:[],plugins:[],debug:!1,mute_live_on_pause:!1,mobile_full_width:!1,seekTime:5,volume:1,autoplay_delay:.1,mute:!1,duration:null,responsive:!0,width:null,height:null,ratio:"16:9",hideControls:!0,origin_url:null,preload:"metadata",is_amp:!1,ad_priority:"m",provider:"html5",layout:"default",allowed_domains:!1,seed:"||_PUT_ENCRYPTION_KEY_||",language:{current:null,fallback:"en",available:{default:"default",en:"English",es:"Español",uk:"Українська",ru:"Русский"}},triton:{sync_banners:[],station_id:null,gdpr_cookie_name:"pbsconsent"},theme:{primary_color:"#E4446B",secondary_color:"#5b63ce",thumb_color:"#9ac3f7"},logo:{img:"https://ad.vidverto.io/vidverto/player/logo.svg",url:"https://vidverto.io/"},ads:{gap:5,priorityTime:5,pre_roll_check_priority:!1,language:"auto",checkPriority:!1,fallback:!0,strict_waterfall:!1},visibility:{breakpoint:.5,pause:!1,autoplay:!1},sticky:{enabled:!1,pause:!1,breakpoint:.5,position:"bottom_right",margin:15,closeButton:!0},autoplay_related:{enabled:!0,related_timeout:4,timeout:6},related:!1,sharing:!1,tracking:{throttle:3e3,readyDelay:2e3,beacon_enabled:!0,url:null,events:null,ignoreEvents:[]},shortcuts:{enabled:!0,global:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!0},i18n:{en:{play:"Play",replay:"Replay",pause:"Pause",seekLabel:"{currentTime} of {duration}",buffered:"Buffered",mute:"Mute",unmute:"Unmute",enterFullscreen:"Fullscreen",exitFullscreen:"Exit fullscreen",next:"Next",previous:"Previous",copy_video_url:"Copy video url",toggle_play:"Play / Pause",toggle_mute:"Mute / Unmute",report_a_problem:"Report a problem",vidvertoplayer:"Vidverto Player",share_screen_title:"Share this video",share_screen_title_audio:"Share this audio",open_url:"Open link",copy:"Copy",copied:"Copied",language:"Language",default:"Default",back:"Back",live:"Live",seekBackward:"Rewind 10s",seekForward:"Forward 10s",shuffle:"Shuffle",shuffle_off:"Turn off shuffle",maximize:"Maximize",collapse:"Minimize",playlist:"Playlist",settings:"Settings",close:"Close",overlay:"The minimum size for appropriate reproduction is 305px",program:"Program",share:"Share",advertisement:"Advertisement",media_error:"Error loading media",stop:"Stop"},es:{play:"Reproducir",replay:"Repetición",pause:"Pausar",seekLabel:"{currentTime} de {duration}",buffered:"Buffered",mute:"Silenciar",unmute:"Activar sonido",enterFullscreen:"Pantalla completa",exitFullscreen:"Salir de pantalla completa",next:"Siguiente",previous:"Anterior",copy_video_url:"Copiar la url del video",toggle_play:"Reproducir / Pausar",toggle_mute:"Silenciar / Activar sonido",report_a_problem:"Reportar un problema",vidvertoplayer:"Vidverto Player",share_screen_title:"Comparte este video",share_screen_title_audio:"Comparte este audio",open_url:"Abrir enlace",copy:"Copiar",copied:"Copiado",language:"Idioma",default:"Default",back:"Atras",live:"Vivo",seekBackward:"Atrasar 10s",seekForward:"Adelantar 10s",shuffle:"Aleatorio",shuffle_off:"Apagar Aleatorio",maximize:"Maximizar",collapse:"Minimizar",playlist:"Playlist",settings:"Opciones",close:"Close",overlay:"El tamaño mínimo para una reproducción apropiada es de 305px.",program:"Programación",share:"Compartir",advertisement:"Anuncio",media_error:"Error al cargar el medio",stop:"Detener"},ru:{play:"Проиграть",replay:"Сначала",pause:"Остановить",seekLabel:"{currentTime} из {duration}",buffered:"Буффер",mute:"Выключить звук",unmute:"Включить звук",enterFullscreen:"Во весь экран",exitFullscreen:"Выйти с полноэкранного режима",next:"Следующий",previous:"Предыдущий",copy_video_url:"Копировать видео ссылку",toggle_play:"Проиграть / Остановить",toggle_mute:"Выключить / Включить звук",report_a_problem:"Сообщить о проблеме",vidvertoplayer:"Vidverto Player",share_screen_title:"Поделиться этим видео",share_screen_title_audio:"Поделиться этим аудио",open_url:"Открыть ссылку",copy:"Копировать",copied:"Скопировано",language:"Язык",default:"По умолчанию",back:"Назад",live:"В Эфире",seekBackward:"Назад на 10с",seekForward:"Вперед на 10с",shuffle:"Случайный порядок",shuffle_off:"По порядку",maximize:"Развернуть",collapse:"Свернуть",playlist:"Плейлист",settings:"Настройки",close:"Закрыть",overlay:"Минимальный размер для корректного воспроизведения составляет 305 пикселей",program:"Програма",share:"Поделиться",advertisement:"Реклама",media_error:"Ошибка загрузки медиа",stop:"Остановить"},uk:{play:"Відтворити",replay:"Спочатку",pause:"Зупинити",seekLabel:"{currentTime} з {duration}",buffered:"Буферизація",mute:"Вимкнути звук",unmute:"Увімкнути звук",enterFullscreen:"Повноекранний режим",exitFullscreen:"Вийти з повноекранного режиму",next:"Наступний",previous:"Попередній",copy_video_url:"Копіювати відео посилання",toggle_play:"Відтворити / Зупинити",toggle_mute:"Вимкнути / Увімкнути звук",report_a_problem:"Повідомити про помилку",vidvertoplayer:"Vidverto Player",share_screen_title:"Поділитися цим відео",share_screen_title_audio:"Поділитися цим аудіо",open_url:"Відкрити посилання",copy:"Копіювати",copied:"Скопійовано",language:"Мова",default:"За замовчуванням",back:"Назад",live:"Пряма трансляція",seekBackward:"Назад на 10с",seekForward:"Вперед на 10с",shuffle:"Випадковий порядок",shuffle_off:"По порядку",maximize:"Розгорнути",collapse:"Згорнути",playlist:"Плейліст",settings:"Налаштування",close:"Закрити",overlay:"Мінімальний розмір для успішного відтворення - 305 пікселів",program:"Програма",share:"Поділитися",advertisement:"Реклама",media_error:"Помилка завантаження медіа",stop:"Зупинити"}},urls:{ima:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",vast:"https://ad.mediawayss.com/js/ima2/vast-client.min.js",hls:"https://cdn.jsdelivr.net/hls.js/latest/hls.js",triton:"https://sdk.listenlive.co/web/2.9/td-sdk.min.js",ad_priority:"",tts:"",plugins:{VidvertoPlayerSimpleUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/simple.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/simple.css?v=1705819415"},VidvertoPlayerPositionUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/position.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/position.css?v=1705819415"},VidvertoPlayerVideoArticleUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/video_article.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/video_article.css?v=1705819415"},VidvertoPlayerVideoPlaylistUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/video_playlist.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/video_playlist.css?v=1705819415"},VidvertoPlayerAudioLiveUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/audio_live.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/audio_live.css?v=1705819415"},VidvertoPlayerAudioPlaylistUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/audio_playlist.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/audio_playlist.css?v=1705819415"},VidvertoPlayerAudioReaderUI:{js:"https://ad.vidverto.io/vidverto/player/ui/js/audio_reader.js?v=1705819415",css:"https://ad.vidverto.io/vidverto/player/ui/css/audio_reader.css?v=1705819415"}}},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","durationchange","webkitfullscreenchange","enterfullscreen","exitfullscreen","controlshidden","controlsshown","play_requested","track_changed","seek_updated","layout_change","layout_changed","ui_updated","track_info","ready","resize","iframe_module_ready","sticky_state_update","sticky_disable","playlist_overlay_opened","adserror","adsprogress","adsrequested","adsloaded","adsimpression","adsplay","adspause","adsresume","adscomplete","adspauserequested","postroll_ended"],classNames:{root:"vidverto",container:"vidverto-player-container",type:"vidverto-type_{0}",provider:"vidverto-provider_{0}",video:"vidverto__video-wrapper",embed:"vidverto__video-embed",overlay:"vidverto__overlay-error",loader:"vidverto__loader",embedContainer:"vidverto__video-embed__container",poster:"vidverto__poster",posterEnabled:"vidverto__poster-enabled",layoutWrapper:"vidverto__layout",responsiveWrapper:"vidverto__responsive-wrapper",holder:"vidverto__holder",control:"vidverto__control",logo:"vidverto__logo",liveBadge:"vidverto__live-badge",logoPlaceholder:"vidverto__logo-placeholder",mediaWrapper:"vidverto__media-wrapper",title:"vidverto__title",title_hidden:"vidverto__title-hidden",spacer:"vidverto__spacer",controlPressed:"vidverto__control-pressed",playing:"vidverto-playing",paused:"vidverto-paused",stopped:"vidverto-stopped",loading:"vidverto-loading",hover:"vidverto-hover",tooltip:"vidverto__tooltip",isLive:"vidverto-is_live",hidden:"vidverto__sr-only",hideControls:"vidverto-hide-controls",isIos:"vidverto-is_ios",isAndroid:"vidverto-is_android",isMobile:"vidverto-is_mobile",isIE:"vidverto-is_ie",waitPlay:"vidverto-wait_play",requestPlay:"vidverto-request_play",showPlayPause:"vidverto-show-play-pause-button",sticky:"vidverto-sticky_enabled",stickyPlaceholder:"vidverto__sticky-placeholder",uiSupported:"vidverto-ui_enabled",audioSticky:"vidverto-type_audio-sticky",noTransition:"vidverto-no_transition",theme:"vidverto__theme_{0}",unstick_enabled:"vidverto-unstick-enabled",helper:{hidden:"vidverto-display_none"},ads:{layer:"vidverto__ad-{0}",loading:"vidverto-ads_loading",playing:"vidverto-ads_playing",visible:"vidverto-ads_visible",linear:"vidverto-ads_linear",active:"vidverto-ads_active",full_slot:"vidverto__ad-fullslot"},related:{state:"vidverto__related-videos-shown",autoplay:"vidverto__related-videos-autoplay-related",autoplay_container:"vidverto__related-videos-autoplay_container",autoplay_button_wrapper:"vidverto__related-videos-autoplay__button-wrapper",autoplay_button_inner_wrapper:"vidverto__related-videos-autoplay__button-inner-wrapper",autoplay_wrapper_up:"vidverto__related-videos-autoplay__wrapper-up",autoplay_wrapper_down:"vidverto__related-videos-autoplay__wrapper-down",autoplay_next_title:"vidverto__related-videos-autoplay__next-title",autoplay_media_title:"vidverto__related-videos-autoplay__media-title",autoplay_cancel_title:"vidverto__related-videos-autoplay__cancel-title",container:"vidverto__related-videos",items_wrapper:"vidverto__related-items-wrapper",item:"vidverto__related-item",image_wrapper:"vidverto__related-item-image_wrapper"},playlist:{container:"vidverto__playlist",title_wrapper:"vidverto__playlist-title-wrapper",title:"vidverto__playlist-title",badge:"vidverto__playlist-badge",item:"vidverto__playlist-item",item_number:"vidverto__playlist-item-number",item_active:"vidverto__playlist-item_active",item_next:"vidverto__playlist-item_next",item_thumbnail:"vidverto__playlist-item-thumbnail",item_image_wrapper:"vidverto__playlist-item-thumbnail-image-wrapper",item_duration_wrapper:"vidverto__playlist-item-duration-wrapper",item_duration:"vidverto__playlist-item-duration",item_title:"vidverto__playlist-item-title",item_description:"vidverto__playlist-item-description",item_text:"vidverto__playlist-item-text",item_wrapper:"vidverto__playlist-item-wrapper",wrapper:"vidverto__playlist-wrapper",position:"vidverto__playlist_position_{0}",layout:"vidverto__playlist_layout_{0}",theme:"vidverto__playlist_theme_{0}",type:"vidverto__playlist_type_{0}",video_article_controls:"vidverto__playlist-video_article_controls"},controls:{wrapper:"vidverto__controls",progress_wrapper:"vidverto__progress",volume_wrapper:"vidverto__volume",mute:"vidverto__mute",share:"vidverto__share",share_hidden:"vidverto__share-hidden",fullscreen:"vidverto__fullscreen",play:"vidverto__play",next:"vidverto__next-track",prev:"vidverto__prev-track",native_url:"vidverto__native-url",replay:"vidverto__replay",unstick:"vidverto__unstick",playlist:"vidverto__playlist_control",seek:{forward:"vidverto__seek-forward",backward:"vidverto__seek-backward"}},share_screen:{container:"vidverto__share-screen",share_wrapper:"vidverto__share-screen-wrapper",buttons_wrapper:"vidverto__share-screen-buttons",buttons_wrapper_inner:"vidverto__share-screen-buttons-inner",copy_wrapper:"vidverto__share-screen-copy-wrapper",middle_wrapper:"vidverto__share-screen-middle-wrapper",copy_text:"vidverto__share-screen-copy-text",title:"vidverto__share-screen-title",icon:"vidverto__share-screen-icon-{0}",active:"vidverto__share-screen_active"},display:{time:"vidverto__time",buffer:"vidverto__progress__buffer"},fullscreen:{fallback:"vidverto-fullscreen_fallback",active:"vidverto-fullscreen_active"},menu:{container:"vidverto__contextmenu",active:"vidverto__contextmenu_active",logo:"vidverto__contextmenu-logo",item:"vidverto__contextmenu-item",language:"vidverto__contextmenu-item-language",share:"vidverto__contextmenu-item-share",language_close:"vidverto__contextmenu-item-close-language",share_select:"vidverto__contextmenu-select-share",share_close:"vidverto__contextmenu-item-close-share",language_select:"vidverto__contextmenu-select-language",language_current:"vidverto__contextmenu-current-language"},tabFocus:"vidverto__tab-focus"},css:!1},Oe=()=>{},Te={t:window,i:document,s:navigator},Ee=(t,e)=>(t%e+e)%e,Me=t=>null!=t?t.constructor:null,Se=(t,e)=>Boolean(t&&e&&t instanceof e),Ae=t=>null==t,Ie=t=>Me(t)===Object,$e=t=>Me(t)===String,Ce=t=>Array.isArray(t),Re=t=>Se(t,NodeList),ze=t=>Ae(t)||($e(t)||Ce(t)||Re(t))&&!t.length||Ie(t)&&!Object.keys(t).length;var Fe={o:Ae,h:Ie,l:t=>Me(t)===Number&&!Number.isNaN(t),u:$e,v:t=>Me(t)===Boolean,p:t=>Me(t)===Function,_:Ce,m:Re,g:t=>Se(t,Element),k:t=>Se(t,KeyboardEvent),P:t=>{if(Se(t,Te.t.URL))return!0;if(ze(t)||!$e(t))return!1;t.match(/^https?:\/\/.*/)||(t=`http://${t}`);try{return!ze(new URL(t).hostname)}catch(t){return!1}},j:ze};function Ve(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const r=i.shift();return Fe.h(r)?(Object.keys(r).forEach(e=>{Fe.h(r[e])?(Object.keys(t).includes(e)||Object.assign(t,{[e]:{}}),Ve(t[e],r[e])):Object.assign(t,{[e]:r[e]})}),Ve(t,...i)):t}const Le={html5:"html5",hls:"hls"},De={simple:"simple",position:"position",playlist:"playlist",video_article:"video_article",audio:"audio"},Ue=t=>{let e;t.on("ended postroll_ended",()=>{e=setTimeout(()=>{!t.ads.manager.active&&(t.playlist.left>0||t.config.playlist.repeat||t.playlist.shuffle||t.isPosition)&&(t.playlist.next(),e=null)},1e3*t.config.autoplay_delay)}),t.on("play playlist_overlay_opened adsplay",()=>{clearTimeout(e)})},Ne={position:Ue,playlist:Ue,video_article:Ue,audio:Ue},qe={simple:t=>{const e=t.plugins;return{plugins:e.length?e:["VidvertoPlayerSimpleUI"]}},position:t=>{const e=t.plugins;return{plugins:e.length?e:["VidvertoPlayerPositionUI"]}},video_article:t=>{const e=t.plugins;return{playlist:Ve({},Be.playlist,{name:t.video_article.title,theme:t.video_article.theme,show:!0,repeat:!1}),plugins:e.length?e:["VidvertoPlayerVideoArticleUI"]}},playlist:t=>{const e=t.plugins;return{plugins:e.length?e:["VidvertoPlayerVideoPlaylistUI"]}},audio:t=>{const e=t.plugins;return{playlist:Ve({},Be.playlist,t.audio.playlist),plugins:e.length?e:["tts"===t.provider?"VidvertoPlayerAudioReaderUI":t.audio.live?"VidvertoPlayerAudioLiveUI":"VidvertoPlayerAudioPlaylistUI"]}}},Be={position:{title:"",behavior:"chain",mute_live_on_pause:!1},playlist:{id:null,name:"",description:"",show:!1,position:"right",layout:"default",repeat:!1,theme:"dark"},video_article:{title:"",theme:"dark"},audio:{mute_live_on_pause:!0,sticky:!1,live:!1,theme:"dark",playlist:{repeat:!1},reader:{skip_selector:!1},timezone:0}};class He{constructor(t){this.O=t}get enabled(){return Te.t.console&&this.O.config.debug}proxy(t){return this.enabled?function(){Fe.l(arguments[0])&&(arguments[0]+=" error"),console[t].apply(console,arguments)}:Oe}get log(){return this.proxy("log")}get warn(){return this.proxy("warn")}get error(){return this.proxy("error")}}const We=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get:()=>(t=!0,null)});Te.t.addEventListener("test",null,e),Te.t.removeEventListener("test",null,e)}catch(t){}return t})();function Ge(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],n=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!t||!("addEventListener"in t)||Fe.j(e)||!Fe.p(i))return;let o=n;We&&(o={passive:r,capture:n}),e.split(" ").forEach(e=>{t[(s?"add":"remove")+"EventListener"](e,i,o)})}function Je(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ge.call(this,t,e,i,!0,s,r)}function Ke(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ge.call(this,t,e,function n(){!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ge.call(this,t,e,i,!1,s,r)}(t,e,n,s,r);for(var o=arguments.length,a=new Array(o),h=0;h<o;h++)a[h]=arguments[h];i.apply(this,a)},!0,s,r)}function Xe(t,e,i){const s=Te.i.createElement(t);return Fe.h(e)&&function(t,e){Fe.g(t)&&!Fe.j(e)&&Object.entries(e).filter(t=>{let[,e]=t;return!Fe.o(e)}).forEach(e=>{let[i,s]=e;return t.setAttribute(i,s)})}(s,e),Fe.u(i)&&(s.innerText=i),s}function Ye(t){Fe.m(t)||Fe._(t)?Array.from(t).forEach(Ye):Fe.g(t)&&Fe.g(t.parentNode)&&t.parentNode.removeChild(t)}function Qe(t,e){Fe.g(t)&&((Fe.v(e)?e:!t.hidden)?t.setAttribute("hidden",""):t.removeAttribute("hidden"))}function Ze(t,e,i){if(Fe.m(t))return Array.from(t).map(t=>Ze(t,e,i));if(Fe.g(t)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),t.classList[s](e),t.classList.contains(e)}return!1}function ti(t,e){Fe.g(t)&&Object.assign(t.style,e)}const ei={T:!!Te.i.documentMode,M:"WebkitAppearance"in Te.i.documentElement.style&&!/Edge/.test(Te.s.userAgent),S:/(iPhone|iPod)/gi.test(Te.s.userAgent),I:/(iPhone|iPad|iPod)/gi.test(Te.s.userAgent),$:/(Mac)/gi.test(Te.s.userAgent),C:/^((?!chrome|android).)*safari/i.test(Te.s.userAgent),F:/(Android)/gi.test(Te.s.userAgent),V:/(iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone)/gi.test(Te.s.userAgent),L:"ontouchstart"in window||navigator.msMaxTouchPoints};function ii(){if(!this.enabled)return;const t=this.O;t.trigger(this.active?"enterfullscreen":"exitfullscreen",!0),ei.I||function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Fe.g(t))return;const i=this.getElements("button:not(:disabled), input:not(:disabled), [tabindex]"),s=i[0],r=i[i.length-1];Ge.call(this,this.container,"keydown",t=>{if("Tab"!==t.key||9!==t.keyCode)return;const e=Te.i.activeElement;e!==r||t.shiftKey?e===s&&t.shiftKey&&(r.focus(),t.preventDefault()):(s.focus(),t.preventDefault())},e,!1)}.call(t,this.target,this.active),Ze(t.ui.root.element,t.config.classNames.fullscreen.active,this.active)}function si(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?this.scrollPosition={x:Te.t.scrollX||0,y:Te.t.scrollY||0}:Te.t.scrollTo(this.scrollPosition.x,this.scrollPosition.y),Te.i.body.style.overflow=t?"hidden":"",Ze(this.target,this.O.config.classNames.fullscreen.fallback,t),ei.I){let e=Te.i.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";e||(e=Xe("meta",{name:"viewport"}));const s=Fe.u(e.content)&&e.content.includes(i);t?(this.cleanupViewport=!s,s||(e.content+=`,${i}`)):this.cleanupViewport&&(e.content=e.content.split(",").filter(t=>t.trim()!==i).join(",")),setTimeout(()=>(function(t){setTimeout(()=>{try{Qe(t,!0),t.offsetHeight,Qe(t,!1)}catch(t){}},0)})(this.target),100)}ii.call(this)}class ri{constructor(t){this.O=t,this.D=!1,this.scrollPosition={x:0,y:0},Je.call(this.O,Te.i,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{ii.call(this)})}get native(){return Boolean(Te.i.fullscreenEnabled||Te.i.webkitFullscreenEnabled||Te.i.mozFullScreenEnabled||Te.i.msFullscreenEnabled)}get prefix(){if(Fe.p(Te.i.exitFullscreen))return"";let t="";return["webkit","moz","ms"].some(e=>!(!Fe.p(Te.i[`${e}ExitFullscreen`])&&!Fe.p(Te.i[`${e}CancelFullScreen`]))&&(t=e,!0)),t}get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(this.native||this.O.config.fullscreen.fallback)&&this.O.config.fullscreen.enabled&&this.O.isVideo}get active(){return ei.I&&this.O.config.fullscreen.iosNative?this.target.webkitDisplayingFullscreen:this.D}get target(){return ei.I&&this.O.config.fullscreen.iosNative?this.O.ui.media.element:this.O.ui.playerContainer.element}enter(){this.enabled&&(ei.I&&this.O.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():this.native?this.prefix?Fe.j(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen():si.call(this,!0),this.D=!0)}exit(){if(this.enabled){if(ei.I&&this.O.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.O.play();else if(this.native)if(this.prefix){if(!Fe.j(this.prefix)){const t="moz"===this.prefix?"Cancel":"Exit";Te.i[`${this.prefix}${t}${this.property}`]()}}else(Te.i.cancelFullScreen||Te.i.exitFullscreen).call(Te.i);else si.call(this,!1);this.D=!1}}toggle(){this.active?this.exit():this.enter()}}function ni(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise((n,o)=>{try{const a=new XMLHttpRequest;if(!("withCredentials"in a))return;a.addEventListener("load",()=>{if("text"===s||"string"==typeof a.response)try{n(JSON.parse(a.responseText))}catch(t){n(a.responseText)}else n(a.response)}),a.addEventListener("error",()=>{o(a.status)}),a.open(e,t,!0),Object.entries(r).forEach(t=>{let[e,i]=t;a.setRequestHeader(e,i)}),a.responseType=s,a.send(i)}catch(t){o(t)}})}function oi(t){return window.vidvertoPromiseCache=window.vidvertoPromiseCache||{},t in window.vidvertoPromiseCache||(window.vidvertoPromiseCache[t]=new Promise((e,i)=>{let s=document.createElement("script");s.onload=e,s.onerror=i,s.async=!0,s.src=t,document.head.appendChild(s)})),window.vidvertoPromiseCache[t]}const ai=t=>[{id:t.ads.id,data2:t.ads.random,ad_from:t.ads.adSource,ad_priority:t.options.hasOwnProperty("ad_priority")?t.options.ad_priority:null}];let hi=!1,li=!1,ui=!1,di=!1;const ci={adblock:{events:["ready"],extract:()=>new Promise(t=>{const e=setTimeout(()=>t(!0),1e4);oi("https://ad.vidverto.io/vidverto/player/ads.js").catch(()=>{clearTimeout(e),t(!0)}),Ke(document.body,"vidvertoplayer_adblock_disabled",()=>{clearTimeout(e),t(!1)})}),merge:(t,e)=>t||e},player_loaded:{events:["ready"],extract:t=>new Promise((e,i)=>{const s=setTimeout(()=>e(!0),t.config.tracking.readyDelay);t.once("play",()=>{clearTimeout(s),i(!1)})}),merge:(t,e)=>t||e},first_play:{events:["play"],extract:t=>{let e=t.isVideo?"video":"audio",i=null;t.provider.live?e="live_"+e:t.isReader?(e="audio_reader",i=t.config.audio.reader.id):t.isAudio&&t.isPlaylist?(e="audio_playlist",i=t.config.audio.id):t.isVideo&&t.isPlaylist?(e="video_playlist",i=t.config.playlist.id):t.isPosition?(e="position",i=t.config.position.id):t.isVideoArticle&&(e="video_article",i=t.config.video_article.id);const s=t.ui.media,r=()=>({type:e,element_id:i,media_length:t.duration,ad_priority:t.config.ad_priority});return di?null:(di=!0,s&&s.element.readyState>=1?r():new Promise(e=>{t.once("loadedmetadata",()=>{e(r())})}))},merge:(t,e)=>e},ad_priority:{events:["play"],extract:t=>t.options.hasOwnProperty("ad_priority")?t.options.ad_priority:null,merge:(t,e)=>e},progress:{events:["timeupdate","ended"],extract:t=>({length:t.duration,watched:t.tracking.duration}),merge:(t,e)=>e},ad_impression:{events:["adsimpression"],extract:ai,merge:(t,e)=>t.concat(e)},ad_request:{events:["adsrequested"],extract:ai,merge:(t,e)=>t.concat(e)},skip_ad:{events:["adskipped"],extract:ai,merge:(t,e)=>t.concat(e)},error:{events:["error"],extract:()=>!0,merge:()=>!0}};class vi{constructor(t){this.O=t,this.U=t.config.tracking,this.N={},this.q=[],this.H=0,this.W=!!navigator.sendBeacon&&t.config.tracking.beacon_enabled}addProgressRange(t,e){t>e||(this.q.push({min:t,max:e}),this.q.sort((t,e)=>t.min-e.min),this.q=this.q.reduce((t,e)=>{if(0===t.length)t.push(e);else{const i=t.pop();i.max>e.min||Math.abs(i.max-e.min)<.01?(i.min=Math.min(i.min,e.min),i.max=Math.max(i.max,e.max),t.push(i)):t.push(i,e)}return t},[]))}get duration(){return this.q.reduce((t,e)=>t+(e.max-e.min),0)}worker(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.O;if(this.H>10)this.O.debug.warn(106);else if(!Fe.j(this.N)){const i=JSON.stringify({referer:e.originUrl,code:e.config.code,authorization:e.config.auth,events:this.N});this.W&&t?navigator.sendBeacon(this.U.url,i):ni(this.U.url,"POST",i,"text").catch(()=>{this.O.debug.warn(105),this.H++}),this.N={}}}increment(t){const e=this.O.playlist.currentConfig,i=e.video_random;Object.keys(t).forEach(s=>{s in this.N?i in this.N[s]?this.N[s][i].value=ci[s].merge(this.N[s][i].value,t[s]):this.N[s][i]={media_id:e.id,value:t[s]}:this.N[s]={[i]:{media_id:e.id,value:t[s]}}})}send(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.increment(t),e&&this.worker()}inject(){const t=this.O;(Fe._(this.U.events)?this.U.events:Object.keys(ci)).forEach(e=>{!this.U.ignoreEvents.includes(e)&&e in ci&&t.on(ci[e].events.join(" "),()=>{const i=ci[e].extract(t);Promise.resolve(i).then(t=>{Fe.j(t)||this.send({[e]:t})}).catch(()=>{})})}),this.W&&window.addEventListener("beforeunload",()=>this.worker(!0)),setInterval(()=>this.worker(),this.U.throttle);let e=0;t.on("timeupdate ended",()=>{this.addProgressRange(e,t.currentTime),e=t.currentTime,hi||1!==parseInt(t.currentTime)?li||3!==parseInt(t.currentTime)?ui||6!==parseInt(t.currentTime)||(ui=!0,this.worker()):(li=!0,this.worker()):(hi=!0,this.worker())}),t.on("seeking",()=>{e=t.currentTime}),t.on("ended",()=>{this.send({},!0)}),t.on("track_changed",()=>{di=!1,hi=!1,li=!1,ui=!1,this.q=[]})}}class pi{constructor(t){this.O=t,this.J=!1,this.K=null,this.X=!1,this.watch=this.watch.bind(this)}get enabled(){return this.O.config.sticky.enabled&&this.O.isVideo}get pauseOnBreakpoint(){return this.O.config.sticky.pause&&this.O.isVideo}get styles(){const t=this.O.config.sticky,e=`${t.margin}px`;let i={};switch(t.position){case"left_top":i={top:e,left:e};break;case"left_bottom":i={bottom:e,left:e};break;case"bottom_right":i={bottom:e,right:e};break;case"top_right":default:i={top:e,right:e}}return i}get allowed(){const t=this.O,e=(Fe.g(this.K)?this.K:t.ui.playerContainer.element).getBoundingClientRect(),i=e.top+e.height*t.config.sticky.breakpoint>0;return(t.playing||t.ads.manager.active||this.J)&&t.ready&&t.isVideo&&!t.fullscreen.active&&!i}activatePause(){const t=this.O;t.ads.manager.visible&&t.ads.manager.pause(),this.X=!1,t.playing&&(this.X=!0,t.pause()),this.J=!0}deactivatePause(){const t=this.O;t.ads.manager.visible&&t.ads.manager.resume(),this.X&&t.play(),this.J=!1}activate(){const t=this.O,e=t.ui.playerContainer.element,i=e.getBoundingClientRect(),s=t.poster;this.K=Xe("div",{class:t.config.classNames.stickyPlaceholder});const r=Xe("div");var n,o;this.K.appendChild(r),ti(r,{paddingBottom:100*i.height/i.width+"%"}),ti(e,this.styles),s&&ti(r,{backgroundImage:`url('${s}')`}),n=this.K,o=e,Fe.g(n)&&Fe.g(o)&&o.parentNode.insertBefore(n,o.nextSibling),Ze(e,t.config.classNames.sticky,!0),this.J=!0,t.ads.manager.active&&t.ads.manager.resize()}deactivate(){const t=this.O,e=t.ui.playerContainer.element;Ze(e,t.config.classNames.sticky,!1),Fe.g(this.K)&&(Ye(this.K),this.K=null);let i={};Object.keys(this.styles).forEach(t=>{i[t]=""}),ti(e,i),this.J=!1,t.ads.manager.active&&t.ads.manager.resize()}watch(){this.allowed?this.J||(this.enabled?this.activate():this.pauseOnBreakpoint&&this.activatePause()):this.J&&(this.enabled?this.deactivate():this.pauseOnBreakpoint&&this.deactivatePause())}inject(){Je.call(this.O,Te.t,"resize scroll",this.watch,!0,!0),this.O.on("play pause adsplay",this.watch)}}class fi{constructor(t){this.O=t,this.Y=null,this.D=!1,this.Z=!0,this.tt=!1,this.et=!0,this.it=1,this.st=0,this.rt=null,this.nt=null,this.ot=null,this.at=null,this.ht=!1,this.lt=!1}init(){return Promise.resolve()}onUserEvent(){}set visible(t){this.tt=t,Ze(this.container,"vidverto__ad-layer-visible",t)}get linear(){return this.ht}get pauseAllowed(){return this.Z}get paused(){return this.et}get playing(){return!this.paused}get active(){return this.D}get visible(){return this.tt}get type(){return this.rt}get currentTime(){return this.nt}get duration(){return this.ot}get tag(){return this.Y}get container(){return this.O.ui.root.getChild("ad_layer").element}play(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.Y=t,this.st=e,this.rt=i,this.lt=s;const r=this.O,n=++this.it;return r.ui.root.getChild("ad_layer")?new Promise((t,e)=>{this.D=!0,this.et=!1,r.trigger("adsrequested"),this.init().then(()=>{this.playTag().then(t).catch(e).finally(()=>{n===this.it&&(this.visible=!1,this.D=!1,this.et=!0)})}).catch(()=>{e(),this.stop()})}):Promise.reject()}stop(){this.et=!0,this.D=!1,this.nt=null,this.ot=null,this.tt=!1}pause(){this.et=!0,this.O.trigger("adspause")}resume(){this.et=!1,this.O.trigger("adsresume")}skip(){}playTag(){return Promise.resolve()}isPreRoll(){return 0===this.st}isPostRoll(){return 100===this.st}}class _i extends fi{constructor(t){super(t),this.ut=null,this.dt=!1,this.ct=!1,this.vt=null,this.pt=null,this.ft=null,this._t=null,this.gt={},this.it=1,this.yt=!1,this.onAdsManagerLoaded=this.onAdsManagerLoaded.bind(this),this.onAdEvent=this.onAdEvent.bind(this),this.onEnded=this.onAdEvent.bind(this)}init(){return this.ut||(this.ut=oi(this.O.config.urls.ima),this.ut.then(()=>{const t=this.O,e=t.ui.media.element;let i=0;google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(t.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),t.on("volumechange",()=>{let e=++i;this.manager.then(s=>{e===i&&s.setVolume(t.muted?0:t.volume)})});const s=()=>{this.ct&&this.manager.then(e=>{const i=t.ui.root.getChild("controls_container"),{offsetWidth:s,offsetHeight:r}=t.ui.media.element;if(this.container&&this.container.ad){const t=!this.container.ad.isLinear()&&i.visible?i.element.offsetHeight:this.container.ad.isLinear()?0:8;e.resize(s,r-t,google.ima.ViewMode.NORMAL)}})};t.on("controlshidden controlsshown",s),t.on("enterfullscreen exitfullscreen",s),window.addEventListener("resize",s),this.vt=new google.ima.AdDisplayContainer(this.container,e),this.on(["start"],t=>{this.visible=!0}),this.on("loaded",e=>{const i=e.getAd();this.container.ad=i,this.ht=i.isLinear(),!i.isLinear()&&t.paused&&t.play()}),this.on("impression",()=>{setTimeout(s,1)}),this.on(["contentResumeRequested","userClose","error","complete","allAdsCompleted"],()=>{this.visible=!1,this.container.ad=null}),this.wt=!0}).catch(()=>{this.fire("error")})),this.ut}get loader(){return this.pt||(this.pt=new google.ima.AdsLoader(this.vt),this.pt.getSettings().setPlayerType("vidvertoplayer"),this.pt.getSettings().setPlayerVersion("1.0.0"),this.pt.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1)),this.pt}get manager(){return this._t||(this._t=new Promise(t=>{this.on("initialized",e=>{this.ct=!0,t(e)})})),this._t}onUserEvent(){!this.dt&&this.vt&&(this.dt=!0,this.vt.initialize())}playTag(){return new Promise((t,e)=>{this.reset(),this.dt||(this.dt=!0,this.vt.initialize());let i=!1;const s=this.O,r=s.ui.root.getChild("controls_container"),n=!this.container||!this.container.ad||this.container.ad.isLinear()&&this.pauseAllowed||!r.visible?0:r.element.offsetHeight,{offsetWidth:o,offsetHeight:a}=s.ui.media.element,h=new google.ima.AdsRequest,l=t=>{e(),s.trigger("adserror"),this.fire("error"),i=!0,s.debug.error(t)};h.adTagUrl=this.tag,h.linearAdSlotWidth=o,h.linearAdSlotHeight=a,h.nonLinearAdSlotWidth=o,h.nonLinearAdSlotHeight=a,h.setAdWillPlayMuted(s.muted),this.loader.requestAds(h),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,l,!1),this.manager.then(s=>{if(!i)try{s.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,l),s.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,t),s.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,t),s.addEventListener(google.ima.AdEvent.Type.IMPRESSION,e=>{e.getAd().isLinear()||t()}),s.init(o,a-n,google.ima.ViewMode.NORMAL),s.start()}catch(t){e()}}).catch(e)})}onAdsManagerLoaded(t){const e=this.O,i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,i.autoAlign=!0,i.useStyledNonLinearAds=!0,i.AUTO_SCALE=!0,this.ft=t.getAdsManager(e,i);const s=()=>{e.ui.media.element.addEventListener("ended",this.onEnded),e.ui.media.unstash(),this.isPostRoll()?e.trigger("postroll_ended"):this.lt||e.play()};this.ft.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,s),this.ft.addEventListener(google.ima.AdEvent.Type.COMPLETE,s),this.ft.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,()=>{e.ui.media.element.removeEventListener("ended",this.onEnded),e.pause(),e.trigger("adspauserequested")}),this.ft.addEventListener(google.ima.AdEvent.Type.PAUSED,()=>{this.yt=!1}),this.ft.addEventListener(google.ima.AdEvent.Type.RESUMED,()=>{this.yt=Date.now()-(Fe.l(this.nt)?1e3*this.nt:0)}),this.ft.addEventListener(google.ima.AdEvent.Type.LOADED,t=>{let i=!1;t.getAd().isLinear()&&(i=!0,this.ot=this.ft.getRemainingTime()),ei.V||Ze(this.container,e.config.classNames.ads.full_slot,i),e.ui.media.stash(),e.trigger("adsloaded")}),this.ft.addEventListener(google.ima.AdEvent.Type.IMPRESSION,t=>{this.yt=Date.now(),t.getAd().isLinear()&&(this.visible=!0,this.et=!1,this.Z=!1),e.trigger("adsimpression")}),this.ft.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,t=>{const i=t.getAdData();this.ot=i.duration,this.Z=!0,e.trigger("adsprogress")}),this.ft.addEventListener(google.ima.AdEvent.Type.SKIPPED,()=>{e.trigger("adskipped")}),Object.keys(google.ima.AdEvent.Type).forEach(t=>{this.ft.addEventListener(google.ima.AdEvent.Type[t],this.onAdEvent)}),this.fire("initialized",this.ft)}onEnded(){this.loader.contentComplete()}onAdEvent(t){this.O.debug.log(t.type,t,"IMA"),this.fire(t.type,t)}get currentTime(){let t=super.currentTime;return this.yt&&this.playing&&Fe.l(this.duration)?(this.nt=Math.min((Date.now()-this.yt)/1e3,this.duration),this.nt):t}stop(){this.yt=!1,this.ct&&this.manager.then(t=>t.stop()),super.stop()}pause(){this.yt=!1,this.ct&&this.manager.then(t=>t.pause()),super.pause()}resume(){this.yt=Date.now()-(Fe.l(this.nt)?1e3*this.nt:0),this.ct&&this.manager.then(t=>t.resume()),super.resume()}resize(){const t=!this.container||!this.container.ad||this.container.ad.isLinear()&&this.pauseAllowed||!controls.visible?0:controls.element.offsetHeight,{offsetWidth:e,offsetHeight:i}=player.ui.media.element;this.ft.resize(e,i-t,google.ima.ViewMode.NORMAL)}reset(){this.loader.destroy(),this.loader.contentComplete(),this.ct&&this.manager.then(t=>{t.destroy()}),this.yt=!1,this.nt=null,this.ot=null,this.pt=null,this.ct=!1,this._t=null,this.ht=!1}on(t,e){Fe._(t)||(t=[t]),t.forEach(t=>{Fe._(this.gt[t])||(this.gt[t]=[]),Fe.p(e)&&this.gt[t].push(e)})}fire(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const r=this.gt[t];Fe._(r)&&r.forEach(t=>{t.apply(this,i)})}}function mi(t){return`${t}-${gi()}`}function gi(){return Math.floor(1e14+Math.random()*(9e14-1))}class yi{constructor(t){this.O=t,this.bt={},this.kt=[],this.Pt={},this.jt={},this.ft=null,this.xt=null,this.Ot=null,this.Tt=null,this.Et=1,this.Mt=!1,this.St="ima",this.At=0,this.It=!1,this.$t=null,this.Ct=!1}managerInstance(t){if(!this.Pt.hasOwnProperty(t)){let e;switch(t){case"ima":default:e=new _i(this.O)}this.Pt[t]=e}return this.Pt[t]}get manager(){return this.ft||(this.ft=this.managerInstance(this.St)),this.ft}get id(){return this.xt}get random(){return this.Ot}get adSource(){return this.Tt}inject(){this.Mt=!0;const t=this.O;t.on("timeupdate ended",e=>{("timeupdate"!==e.type||t.playing)&&("ended"===e.type&&this.manager.stop(),this.manager.active||this.playAds().catch(Oe))}),t.on("track_changed",()=>{const e=++this.Et;this.manager.stop(),this.bt={},Object.values(this.jt).forEach(e=>{t.off("timeupdate",e.timeupdate),t.off("play",e.play)}),this.jt={},this.Ct=!1,this.$t=null,this.buildCue(!0,t=>Fe.l(t.time)&&t.time>-1),this.kt.length&&this.manager.init(),Ke(this.O.media,"durationchange",()=>{e<this.Et||(this.buildCue(!1,t=>!Fe.l(t.time)||-1===t.time),this.kt.length&&this.manager.init())})})}updateAdPriority(){const t=this.O;if(!t.config.urls.ad_priority)return Promise.resolve();const e={"vidverto-referer":t.originUrl};return t.config.auth&&(e.Authorization=t.config.auth),ni(t.config.urls.ad_priority,"GET","","json",e).then(e=>{["m","p"].includes(e.ad_priority)&&e.ad_priority!==t.config.ad_priority&&(t.config.ad_priority=e.ad_priority)}).catch(e=>{t.debug.error(107,e)})}buildCue(){var t=this;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this.kt=[]),i=Fe.p(i)?i:()=>!0;const s=this.O,r=s.playlist.currentConfig,n=/^(\d+\.?\d*)%$/,o=[];if(Fe._(r.ads)?o.push(r.ads.map(t=>(t.adSource="marketplace",t))):Fe.h(r.ads)&&(Fe._(r.ads.publisher)&&o.push(r.ads.publisher.map(t=>(t.adSource="publisher",t))),Fe._(r.ads.marketplace)&&o.push(r.ads.marketplace.map(t=>(t.adSource="marketplace",t)))),!o.length)return;const a=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ve({id:t.At++,time:0,user_time:!1,start_time:null,timezone:0,duration:null,repeat:!1,position:null,callback_type:null,adSource:null,type:null,client:"ima",configPosition:0,callback:!1},e,i)},h=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time;e.random=gi();let o=null;e.callback_type&&r.callback_ads.hasOwnProperty(e.callback_type)&&(o=a(r.callback_ads[e.callback_type],{configPosition:1,callback:!0,adSource:e.adSource}));for(let i=t.kt.length;i--;)if(t.kt[i].isAd&&Math.abs(t.kt[i].time-n)<1)return e.configPosition=t.kt[i].ads.length,t.kt[i].ads.push(e),void(o&&(o.configPosition=t.kt[i].ads.length,t.kt[i].ads.push(o)));let h=Ve({time:e.time,user_time:e.user_time,duration:e.duration,duration_timer:null,duration_start_time:null,random:gi(),ads:o?[e,o]:[e],isAd:!0},i);t.kt.push(h),s.config.ads.checkPriority&&"linear"===e.type&&e.time>s.config.ads.priorityTime&&t.kt.push(Ve({},e,{isAd:!1,time:e.time-s.config.ads.priorityTime,random:gi()}))};let l=1/0;o.forEach(t=>{t.filter(i).forEach(t=>{t=a(t);let e=n.exec(t.time);if(e&&(t.time=parseFloat(e[1])*s.duration/100),"-1"!==t.time&&-1!==t.time||(t.time=s.duration-1),t.repeat&&t.repeat>0)if(s.provider.live){if(!(t.id in this.jt)){let e=0,i=Date.now(),r=!1;this.jt[t.id]={timeupdate:()=>{const s=Date.now();e+=(s-i)/1e3,i=s;const n=t.repeat-e;if(n<10&&!r){const e=new Date;h(t,{time:3600*e.getUTCHours()+60*e.getUTCMinutes()+e.getUTCSeconds()+n,user_time:!0}),r=!0}n<=0&&r&&(e=Math.abs(n),r=!1)},play:()=>{i=Date.now()}},s.on("timeupdate",this.jt[t.id].timeupdate),s.on("play",this.jt[t.id].play)}}else for(let e=1;e<=s.duration/t.repeat;e++)h(t,{time:t.time*e});else h(t);t.time<l&&(l=t.time,this.St=t.client,this.ft=null)})}),s.debug.log(this.kt,"CUE")}playAds(){if(!this.Mt)return Promise.reject();const t=this.O;if(this.manager.active||t.fullscreen.active&&ei.I&&t.config.fullscreen.iosNative)return Promise.reject();const e=t.config.ads.gap,i=t.provider.live?0:t.currentTime,s=t.duration,r=new Date,n=3600*r.getUTCHours()+60*r.getUTCMinutes()+r.getUTCSeconds();for(let r=0;r<this.kt.length;r++){let o=this.kt[r],a=e;if(o.duration){let t=0;if(o.duration_start_time){t+=((new Date).getTime()-o.duration_start_time.getTime())/1e3}a+=t}if((o.user_time?n>=o.time&&n-o.time<=a:i>=o.time&&i-o.time<=a)&&!this.wasPlayed(o.random)){if(o.isAd){o.duration||this.wasPlayed(o.random,!0);const e=()=>(this.$t||(this.$t=new Promise(e=>{const i=()=>{const e="m"===t.config.ad_priority?"marketplace":"publisher";let i=o.ads.slice().filter(t=>t.adSource===e);return i.sort((t,e)=>t.configPosition-e.configPosition),i};this.Ct||this.It||!t.config.ads.pre_roll_check_priority?this.It||e(i()):(this.It=!0,this.updateAdPriority().finally(()=>{this.Ct=!0,this.It=!1,e(i())}))})),this.$t);return new Promise((i,r)=>{e().then(e=>{t.debug.log(e,"WATERFALL"),this.$t=null;for(let r=0;r<e.length;r++){let n=e[r];if(!this.wasPlayed(n.random)){this.xt=n.id,this.Ot=n.random,this.Tt=n.adSource,o.duration?o.duration_timer||(o.duration_start_time=new Date,o.duration_timer=setTimeout(()=>{this.wasPlayed(n.random,!0),this.wasPlayed(o.random,!0),o.duration_start_time=null,o.duration_timer=null,t.ads.manager.active&&t.ads.manager.stop()},1e3*o.duration)):this.wasPlayed(n.random,!0);let a=r;const h=i=>{let r=Math.round(100*o.time/s),n=!1,l=!1;this.xt=i.id,this.Ot=i.random,this.Tt=i.adSource,this.ft=this.managerInstance(i.client),t.ui.root.element.dataset.manager=i.client,this.manager.play(i.url,r,i.type,e.length-(a+1)>1).catch(()=>{n=!0}).finally(()=>{if(this.xt=null,this.Ot=null,this.Tt=null,(n||t.config.ads.strict_waterfall)&&e.length-a>1)for(;e.length-a>1;){let t=e[++a];if(!t.callback||n){l=!0,h(t);break}}l||(100===r?t.trigger("postroll_ended"):(t.play(),o.duration&&(this.wasPlayed(o.random,!0),this.wasPlayed(i.random,!0),setTimeout(()=>{this.wasPlayed(o.random,!1),this.wasPlayed(i.random,!1),t.play()},3e4))))})};return h(n),void i()}}r()})})}this.wasPlayed(o.random)||(this.updateAdPriority(),this.wasPlayed(o.random,!0))}}return Promise.reject()}wasPlayed(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return this.bt[t];this.bt[t]=e}}const wi={code:null,native_title:null,shuffle_index:null,title:"",description:"",album:"",author:"",native_description:null,embed:null,thumbnail:null,stream:!1,url:null,file:null,live:null,duration:"",programs:[],ads:{},callback_ads:{}};class bi{constructor(t){this.O=t,this.Rt=0,this.zt={},this.Ft=t.config.media,this.Vt=null,this.Lt=null,this.Dt={},this.Ut=!1,this.dt=!1}set current(t){this.zt={},this.Dt={},this.Rt=t;const e=this.O.ui.root.getChild("playlist");e&&e.updateClasses(),this.O.trigger("track_changed")}set shuffle(t){const e=this.current,i=this.currentConfig;if(t){const t=this.Ft.slice();t.forEach((e,i)=>{t[i].shuffle_index=i});for(let e=t.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}this.Vt=t;for(let t=this.Vt.length;t--;)if(this.Vt[t].shuffle_index===e){this.Rt=t;break}}else this.Rt=i.shuffle_index,this.Vt=null;this.zt={},this.Ut=t}get shuffleMedia(){return this.Vt}get shuffle(){return this.Ut}get relatedVideo(){return this.Lt}get relatedVideoObject(){return Fe.h(this.Lt)?this.Lt:Ve({id:null},wi)}set relatedVideo(t){this.Lt=Ve({id:null,video_random:gi()},wi,t)}get current(){return this.Rt}get initialized(){return this.dt}get left(){return this.length-this.current-1}set trackInfo(t){this.Dt=t}get trackInfo(){return this.Dt}get currentConfig(){return this.relatedVideo?this.relatedVideo:this.config(this.current)}get media(){const t=[];return this.Ft.forEach((e,i)=>{t.push(this.config(i))}),t}get hasAds(){const t=t=>{let e=!1;return Fe._(t)&&(e=t.length>0),Fe.h(t)&&t.hasOwnProperty("marketplace")&&Fe._(t.marketplace)&&(e=e||t.marketplace.length>0),Fe.h(t)&&t.hasOwnProperty("publisher")&&Fe._(t.publisher)&&(e=e||t.publisher.length>0),e};for(let e=0;e<this.length;e++)if(t(this.config(e).ads))return!0;return!1}config(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t=Ee(t,this.length),!this.zt.hasOwnProperty(t)){let e=this.Ut?this.Vt[t]:this.Ft[t];this.zt[t]=Ve({id:t,video_random:gi()},wi,e)}return this.zt[t]}play(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.O.ui.media;t=Ee(t,this.length),this.Lt=null,i.clearStash(),this.current=t,i.source=this.config(t),this.dt=!0,e&&this.O.play()}prev(){this.play(this.current-1)}next(){this.play(this.current+1)}get length(){return this.Ft.length}}function ki(){try{return Te.t.self!==Te.t.top}catch(t){return!0}}function Pi(){const t=(()=>{let t=window;try{for(;t.parent.document!==t.document&&t.parent.document;)t=t.parent}catch(t){}return t})();let e=window.location.href;return ki()&&document.referrer&&((e=t.document.referrer)||(e=t.document.location.href)),e}class ji{constructor(t){this.O=t,this.g=null,this.Y="div",this.Nt={class:"vidverto__media"},this.qt="base",this.Bt=!1,this.Ht=!1}get live(){return this.liveOriginal||this.O.playlist.currentConfig.live}get liveOriginal(){return this.Bt||this.duration===1/0}get stream(){return this.Ht||this.live}get code(){return this.qt}get element(){return this.g||(this.g=this.createElement()),this.g}get paused(){return!0}get ended(){return!0}set src(t){}get src(){}get muted(){return!1}set muted(t){}get volume(){return 0}set volume(t){}get currentTime(){return 0}set currentTime(t){this.fire("seeked")}get buffered(){return 0}get duration(){return 0}get seeking(){return!1}play(){return Promise.resolve()}pause(){}fire(t,e){(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Fe.g(t)||Fe.j(e))return;const r=new CustomEvent(e,{bubbles:i,detail:Object.assign({},s,{player:this})});t.dispatchEvent(r)}).call(this.O,this.element,t,!0,e)}createElement(){return Xe(this.Y,this.Nt)}}class xi extends ji{constructor(t){super(t);const e=t.isAudio&&t.config.audio.thumbnail&&ei.V;this.qt="html5",this.Y=t.isVideo||e?"video":"audio",this.Wt=null,this.Gt=1,this.Jt=!1,this.Kt=t.config.mute_live_on_pause,this.Xt=!1,this.Yt=!1,this.Nt.playsinline="",t.config.mute&&(this.Nt.muted=""),t.config.preload&&(this.Nt.preload=t.config.preload)}get paused(){return this.element.paused||this.Kt&&this.Xt}get ended(){return this.element.ended}set src(t){this.element.setAttribute("src",t)}get src(){return this.element.getAttribute("src")}get muted(){return this.Xt?this.Yt:this.element.muted}set muted(t){this.Xt?(this.Yt=t,this.O.trigger("volumechange")):this.element.muted=t}get volume(){return this.element.volume}set volume(t){this.element.volume=t}get currentTime(){return null!==this.Wt?this.Wt:this.element.currentTime}set currentTime(t){const e=++this.Gt;this.element.readyState>0?this.element.currentTime=t:(this.Wt=t,Ke(this.element,"loadeddata",()=>{e<this.Gt||(this.element.currentTime=t,this.Wt=null)}))}get buffered(){return this.element.buffered}get duration(){return this.element.duration}get seeking(){return this.element.seeking}play(){this.Jt&&(this.Jt=!1,this.currentTime=0,this.element.load()),this.Xt&&(this.Xt=!1,this.muted=this.Yt);let t=this.element.play();return t?t.catch(Oe):t=Promise.resolve(),this.O.once("error",()=>{this.element.error&&this.element.error.message&&-1!==this.element.error.message.indexOf("PIPELINE_ERROR_DECODE")&&(this.element.load(),this.element.play())}),t}pause(){if(this.Kt&&this.live){if(!this.Xt){const t=this.muted;this.muted=!0,this.Xt=!0,this.Yt=t}}else this.element.pause(),this.live&&this.pauseLive()}pauseLive(){this.Jt=!0}}class Oi extends xi{constructor(t){super(t),this.Qt=null,this.Zt=null,this.te=Oe,this.Ht=!0,this.ee=!1,this.ie=null}get hls(){return this.Qt||(this.Qt=new Promise((t,e)=>{oi(this.O.config.urls.hls).then(()=>{const e=new Hls;e.on(Hls.Events.MEDIA_ATTACHED,()=>{t(e)}),e.on(Hls.Events.LEVEL_LOADED,(t,e)=>{this.Bt=e.details.live,this.ee=!0}),e.on(Hls.Events.ERROR,(t,e)=>{e.fatal&&this.te(),this.O.debug.error(e)}),e.attachMedia(this.element)}).catch(e)})),this.Qt}set src(t){!1!==t?this.element.canPlayType("application/x-mpegURL")?super.src=t:this.Zt!==t&&this.hls.then(e=>{e.loadSource(t),this.Zt=t,this.te=(()=>{super.src=t})}):super.src=t}pauseLive(){this.ee&&(this.ie=new Date,this.hls.then(t=>{t.detachMedia()}))}play(){return this.element.canPlayType("application/x-mpegURL")?super.play():this.ee&&this.live&&this.ie?(this.ie=null,void this.hls.then(t=>{t.attachMedia(this.element);let e=()=>{super.play(),t.off(Hls.Events.MEDIA_ATTACHED,e)};t.on(Hls.Events.MEDIA_ATTACHED,e)})):super.play()}}class Ti{constructor(){this.se="vidverto-"}read(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.se+t;try{return JSON.parse(window.localStorage.getItem(t))||e}catch(t){return e}}write(t,e){t=this.se+t;try{return window.localStorage.setItem(t,JSON.stringify(e)),!0}catch(t){return!1}}}class Ei{constructor(t){t instanceof Ei?Object.assign(this,t):("#"===t.charAt(0)&&(t=t.substring(1)),3===t.length&&(t=[t.charAt(0),t.charAt(0),t.charAt(1),t.charAt(1),t.charAt(2),t.charAt(2)].join("")),this.R=parseInt(t.substring(0,2),16),this.G=parseInt(t.substring(2,4),16),this.B=parseInt(t.substring(4,6),16),this.A=1)}clone(){return new Ei(this)}rgba(t){const e=this.clone();return e.A=t,e}darken(t){const e=(100-t)/100,i=this.clone();return i.R=Math.max(Math.min(i.R*e,255),0),i.G=Math.max(Math.min(i.G*e,255),0),i.B=Math.max(Math.min(i.B*e,255),0),i}toString(){return`rgba(${this.R}, ${this.G}, ${this.B}, ${this.A})`}}class Mi{constructor(t){this.O=t,this.apply(),this.applyStyles()}get config(){let t=Ve({},this.O.config.theme);return Fe.u(t.primary_color)&&(t.secondary_color||(t.secondary_color=t.primary_color),t.thumb_color||(t.thumb_color=new Ei(t.primary_color).darken(-30).toString())),t}apply(){Object.entries(this.config).forEach(t=>{let[e,i]=t;i&&document.documentElement.style.setProperty("--vidverto__"+e,i)})}applyStyles(){const t=this.config,e='.vidverto input[type="range"]::',i=[];t.secondary_color&&t.primary_color&&i.push(`${e}-ms-fill-lower {background-image: linear-gradient(to right, ${t.secondary_color}, ${t.primary_color})}`),t.secondary_color&&(i.push(`.vidverto-type_audio .vidverto__track-info-title {color: ${t.secondary_color}}`),i.push(`.vidverto-type_audio .vidverto__live-badge {color: ${t.secondary_color}}`),i.push(`.vidverto-type_audio .vidverto__live-badge:before {background: ${t.secondary_color}}`)),t.thumb_color&&i.push(`${e}-ms-thumb {background-color: ${t.thumb_color};}`);let{width:s,height:r,ratio:n}=this.O.config,[o,a]=n.split(":").map(t=>parseFloat(t)),h=a/o;s&&r&&(h=r/s),h*=100,i.push(`.vidverto__video-wrapper:before {padding-top: ${h}%;}`),this.O.config.audio&&this.O.config.audio.reader&&this.O.config.audio.reader.theme&&(i.push(`.vidverto__audio_reader {background-color: ${this.O.config.audio.reader.theme};  }`),i.push(`.vidverto__audio_reader_bottom_arrow:after {border-top-color: ${this.O.config.audio.reader.theme} !important; }`),i.push(`.vidverto__audio_reader_left_arrow:after {border-right-color: ${this.O.config.audio.reader.theme} !important; }`),i.push(`.vidverto__audio_reader_top_arrow:after {border-bottom-color: ${this.O.config.audio.reader.theme} !important; }`),i.push(`.vidverto__audio_reader_right_arrow:after {border-left-color: ${this.O.config.audio.reader.theme} !important; }`),i.push(`.vidverto__media-error-overlay {background: ${this.O.config.audio.reader.theme};}`));const l=Xe("style",{type:"text/css"},i.join(""));document.head.appendChild(l)}}const Si=t=>parseInt(t/60/60%60,10),Ai=t=>parseInt(t/60%60,10),Ii=t=>parseInt(t%60,10);function $i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Fe.l(t)?t:0;const i=t=>`0${t}`.slice(-2);let s=Si(t);const r=Ai(t),n=Ii(t);return`${s=e||s>0?`${i(s)}:`:""}${i(r)}:${i(n)}`}function Ci(t){let e=0,i=1;const s=Fe.u(t)?t.split(":"):[];return s.length<=3&&s.length>0?s.reverse().forEach(t=>{e+=parseInt(t,10)*i,i*=60}):e=NaN,e}function Ri(t){return t<0?86400+t:t>=86400?Ee(t,86400):t}class zi{constructor(t){this.re=null,this.ne=null,this.oe=null,this.ae=[],this.O=t}prepare(){const t=this.O,{programs:e}=t.playlist.currentConfig;if(this.re=null,this.ne=null,this.oe=null,this.ae=[],!Fe._(e)||!e.length)return;const i=["sun","mon","tue","wed","thu","fri","sat"],s=new Date,r=86400*s.getDay()+60*s.getTimezoneOffset(),n=r+86400,o=86400*s.getDay()+s.getSeconds()+60*(s.getMinutes()+s.getTimezoneOffset())+3600*s.getHours();let a=[];e.forEach((t,e)=>{const r=Ci(t.start_at),n=Ci(t.end_at),o=Ri(r-60*s.getTimezoneOffset()),h=Ri(n-60*s.getTimezoneOffset()),l=Ve({id:e,title:"",name:"",start:r,end:n,start_local:o,end_local:h,start_local_formatted:$i(o,!0).slice(0,5),end_local_formatted:$i(h,!0).slice(0,5),description:"",start_at:null,end_at:null,thumbnail:null,live:!1,days:i},t);a.push(l)}),a.sort((t,e)=>t.start_local-e.start_local);let h=[];i.forEach((t,e)=>{a.forEach(i=>{if(i.days.includes(t)&&i.start_at&&i.end_at){i.title=i.name;const t=86400*e+i.start,s=86400*(i.end<i.start?e+1:e)+i.end;h.push({start:t,end:s,program:Ve({},i,{week_start_time:t,week_end_time:s})})}})}),h.sort((t,e)=>t.start-e.start);for(let t=0;t<h.length;t++){let e=h[t].start>=r&&h[t].start<n||h[t].start<r&&h[t].end>=r;const i=Ve({today:e},h[t].program);h[t].start<=o&&o<h[t].end&&(this.re=i),h[t].start>o&&o>h[Ee(t-1,h.length)].start&&(this.oe=i),h[t].end<o&&(o<h[Ee(t+1,h.length)].end||t+1===h.length)&&(this.ne=i),e&&(this.re&&this.re.id===i.id&&this.re.week_start_time===i.week_start_time&&(i.live=!0),this.ae.push(i))}}get currentProgram(){return this.prepare(),this.re}get previousProgram(){return this.prepare(),this.ne}get nextProgram(){return this.prepare(),this.oe}get todayPrograms(){return this.prepare(),this.ae}}class Fi extends xi{constructor(t){super(t),this.he=null,this.le=null,this.ue=null,this.de={}}addTextCache(t,e){this.de[t]=e}getText(t){const e=this.O;return new Promise(i=>{this.O.isInIframe?(e.iframe.trigger("get_tts_text",{selector:t,skip:e.config.audio.reader.skip_selector}),e.iframe.once("set_tts_text",e=>{e.selector===t&&i(e.text)})):(t in this.de&&i(this.de[t]),this.de[t]=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=[],s=["iframe","style","input","button","textarea","form","table","select","script"],r={"li, li *":4,"h1, h1 *, h2, h2 *, h3, h3 *, h4, h4 *, h5, h5 *, h6, h6 *":1,"p, p *, article, article *, header, header *":1,"nav *, .vidverto-reader-skip, .vidverto-reader-skip *":1/0};if(e){const t=[];e.split(",").forEach(e=>{t.push(e),t.push(e+" *")}),r[t.join(", ")]=1/0}const n=t=>{Array.from(t.childNodes).forEach(e=>{const o=[];e instanceof Text?o.push(e.wholeText):e instanceof HTMLElement&&-1===s.indexOf(e.tagName)&&null!==e.offsetParent&&e.offsetHeight>0&&e.offsetWidth>0&&n(e);const a=o.join(" ");let h=10;Object.entries(r).forEach(e=>{let[i,s]=e;t.matches(i)&&(h=s)}),a.trim().split(/\s+/).length>=h&&i.push(a)})};if(!1===t)n(document.body);else{const e=document.querySelectorAll(t);Array.from(e).forEach(t=>n(t))}return i.join(" ").replace(/\s+/g," ").trim()}(t,e.config.audio.reader.skip_selector),i(this.de[t]))})}get file(){if(!this.le){const t=this.O;this.le=new Promise((e,i)=>{this.getText(this.he).then(s=>{ni(t.config.urls.tts,"POST","content="+encodeURIComponent(s)+"&id="+t.config.audio.reader.id,"json",{"Content-type":"application/x-www-form-urlencoded","vidverto-data3":t.config.audio.reader.code}).then(t=>{e(t.file)}).catch(i)}).catch(i)})}return this.le}play(){return ei.V&&super.play(),this.file.then(t=>{this.ue!==t&&(super.src=t),this.ue=t,super.play()})}set src(t){this.he=t,this.le=null}}class Vi{constructor(t){this.O=t,this.ce=!1,this.ve={}}register(t){if(window.hasOwnProperty(t)){try{let e=new window[t](this.O);this.ve[t]=e,e.alias&&(this.ve[e.alias]=e)}catch(t){}return!0}return!1}getPlugin(t){return!!this.ve.hasOwnProperty(t)&&this.ve[t]}ready(){if(!this.ce){const t=[],e=this.O;e.config.plugins.forEach(i=>{i in e.config.urls.plugins&&!window.hasOwnProperty(i)&&t.push(oi(e.config.urls.plugins[i].js));let s=!1;Array.from(document.styleSheets).forEach(t=>{t.href===e.config.urls.plugins[i].css&&(s=!0)}),s||t.push(function(t){return window.vidvertoPromiseCache=window.vidvertoPromiseCache||{},t in window.vidvertoPromiseCache||(window.vidvertoPromiseCache[t]=new Promise((e,i)=>{let s=document.createElement("link");s.onload=e,s.onerror=i,s.type="text/css",s.rel="stylesheet",s.href=t,document.head.appendChild(s)})),window.vidvertoPromiseCache[t]}(e.config.urls.plugins[i].css))}),this.ce=Promise.all(t).then(()=>{e.config.plugins.forEach(t=>this.register(t))})}return this.ce}}class Li{constructor(t){this.O=t,this.xt=mi("iframe"),this.pe={}}trigger(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.parent.postMessage({vidvertoplayer:{id:this.xt,type:t,data:e}},this.O.originUrl)}on(t,e){t in this.pe||(this.pe[t]=[]),this.pe[t].push(e)}off(t,e){if(t in this.pe)for(let i=this.pe[t].length;i--;)if(this.pe[t][i]===e){this.pe[t].splice(i,1);break}}once(t,e){const i=s=>{e(s),this.off(t,i)};this.on(t,i)}bind(){const t=this.O;Te.t.addEventListener("message",e=>{if(Fe.h(e.data)&&Fe.h(e.data.vidvertoplayer)){let i=Object.assign({type:"",data:{}},e.data.vidvertoplayer),s=("on_"+i.type).replace(/(_\w)/g,t=>t[1].toUpperCase());Fe.p(this[s])&&this[s].call(this,i.data),i.type in this.pe&&this.pe[i.type].forEach(e=>{e.call(t,i.data)})}}),this.trigger("handshake"),t.trigger("iframe_module_ready"),t.config.sticky.enabled&&t.isVideo&&(this.trigger("stick_player",t.config.sticky),this.on("sticky_state_update",e=>{t.trigger("sticky_state_update",e)})),t.on(xe.events.join(" "),e=>{this.trigger(e.type,{type:t.type,state:{volume:t.volume,currentTime:t.currentTime,paused:t.paused,playing:t.playing,muted:t.muted,duration:t.duration,config:t.config,dimensions:{width:t.ui.root.element.offsetWidth,height:t.ui.root.element.offsetHeight}}})})}}var Di=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some(function(t,s){return t[0]===e&&(i=s,!0)}),i}return function(){function e(){this.fe=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fe.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.fe,e),s=this.fe[i];return s&&s[1]},e.prototype.set=function(e,i){var s=t(this.fe,e);~s?this.fe[s][1]=i:this.fe.push([e,i])},e.prototype.delete=function(e){var i=this.fe,s=t(i,e);~s&&i.splice(s,1)},e.prototype.has=function(e){return!!~t(this.fe,e)},e.prototype.clear=function(){this.fe.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,s=this.fe;i<s.length;i++){var r=s[i];t.call(e,r[1],r[0])}},e}()}(),Ui="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Ni="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),qi="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Ni):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},Bi=2;var Hi=20,Wi=["top","right","bottom","left","width","height","size","weight"],Gi="undefined"!=typeof MutationObserver,Ji=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,s=!1,r=0;function n(){i&&(i=!1,t()),s&&a()}function o(){qi(n)}function a(){var t=Date.now();if(i){if(t-r<Bi)return;s=!0}else i=!0,s=!1,setTimeout(o,e);r=t}return a}(this.refresh.bind(this),Hi)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){Ui&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Gi?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Ui&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;Wi.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Ki=function(t,e){for(var i=0,s=Object.keys(e);i<s.length;i++){var r=s[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},Xi=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||Ni},Yi=ss(0,0,0,0);function Qi(t){return parseFloat(t)||0}function Zi(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){return e+Qi(t["border-"+i+"-width"])},0)}function ts(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return Yi;var s=Xi(t).getComputedStyle(t),r=function(t){for(var e={},i=0,s=["top","right","bottom","left"];i<s.length;i++){var r=s[i],n=t["padding-"+r];e[r]=Qi(n)}return e}(s),n=r.left+r.right,o=r.top+r.bottom,a=Qi(s.width),h=Qi(s.height);if("border-box"===s.boxSizing&&(Math.round(a+n)!==e&&(a-=Zi(s,"left","right")+n),Math.round(h+o)!==i&&(h-=Zi(s,"top","bottom")+o)),!function(t){return t===Xi(t).document.documentElement}(t)){var l=Math.round(a+n)-e,u=Math.round(h+o)-i;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(h-=u)}return ss(r.left,r.top,a,h)}var es="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Xi(t).SVGGraphicsElement}:function(t){return t instanceof Xi(t).SVGElement&&"function"==typeof t.getBBox};function is(t){return Ui?es(t)?function(t){var e=t.getBBox();return ss(0,0,e.width,e.height)}(t):ts(t):Yi}function ss(t,e,i,s){return{x:t,y:e,width:i,height:s}}var rs=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ss(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=is(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),ns=function(){return function(t,e){var i,s,r,n,o,a,h,l=(s=(i=e).x,r=i.y,n=i.width,o=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,h=Object.create(a.prototype),Ki(h,{x:s,y:r,width:n,height:o,top:r,right:s+n,bottom:o+r,left:s}),h);Ki(this,{target:t,contentRect:l})}}(),os=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new Di,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Xi(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new rs(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Xi(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new ns(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),as="undefined"!=typeof WeakMap?new WeakMap:new Di,hs=function(){return function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=Ji.getInstance(),s=new os(e,i,this);as.set(this,s)}}();["observe","unobserve","disconnect"].forEach(function(t){hs.prototype[t]=function(){var e;return(e=as.get(this))[t].apply(e,arguments)}});var ls=void 0!==Ni.ResizeObserver?Ni.ResizeObserver:hs;class us{constructor(t){this.O=t,this._e=!1,this.me=null,this.ge=!1,this.watch=this.watch.bind(this),this.onIframeModuleReady=this.onIframeModuleReady.bind(this)}onIframeModuleReady(){const t=this.O;t.iframe.trigger("visibility_observer",{breakpoint:t.config.visibility.breakpoint}),t.iframe.on("handshake_done",()=>{clearTimeout(this.me)}),t.iframe.on("visibility_observer_visibility",e=>{e.visible&&t.config.visibility.autoplay&&t.paused&&!this._e&&(this._e=!0,ei.V&&!this.ge&&(t.muted=!0,this.ge=!0,t.ui.root.element.classList.remove(t.config.classNames.showPlayPause)),t.play()),e.visible||!t.config.visibility.pause||t.paused||t.pause()})}watch(){const t=this.O;if(t.isAudio)return;const e=t.ui.playerContainer.element.getBoundingClientRect(),i=e.height*t.config.visibility.breakpoint,s=e.top>0&&e.top+i<window.innerHeight||e.top<0&&e.top+i>0;s&&t.config.visibility.autoplay&&t.paused&&!this._e&&(this._e=!0,ei.V&&!this.ge&&(t.muted=!0,this.ge=!0,t.ui.root.element.classList.remove(t.config.classNames.showPlayPause)),t.play()),s||!t.config.visibility.pause||t.paused||t.pause()}inject(){this.O.isInIframe?(this.O.on("iframe_module_ready",this.onIframeModuleReady),this.me=setTimeout(()=>{this.O.config.visibility.autoplay&&this.O.paused&&!this._e&&(this._e=!0,this.O.play())},6e3)):(Je.call(this.O,Te.t,"resize scroll",this.watch,!0,!0),this.O.on("play pause adsplay",this.watch))}}return class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.ready=!1,this.loading=!1,this.isInIframe=ki(),this.touch="ontouchstart"in Te.i.documentElement,i&&(e.code=i),Fe.u(t)&&(t=Te.i.querySelectorAll(t)),(Fe.m(t)||Fe._(t))&&(t=t[0]),this.type=De.simple,Object.keys(De).forEach(t=>{Fe.h(e[t])&&(this.type=t)}),Fe.h(e.media)&&(e.media=[e.media]),Fe.j(e.media)&&(e.media=[{file:!1}]),e.media.length&&Fe.u(e.media[0].file)){let t=e.media[0].file.match(/\.([0-9a-z]+)$/i);switch(t?t[1]:null){case"m3u8":e.provider="hls";break;case"mp3":case"mp4":case"aac":e.provider="html5"}}if(this.config=Ve({},xe,Be,e),this.options=e,this.type in qe&&(this.config=Ve({},this.config,qe[this.type].call(this,this.config))),this.ye=this.config.layout,this.type!==De.audio||e.layout||(this.config.media.length>1||!this.config.audio.live?this.ye="audio_slim":!this.config.audio.live||this.config.audio.sticky&&!this.isInIframe||(this.ye="audio_maximized")),this.debug=new He(this),this.debug.log("Config",this.config),!Fe.o(t)&&Fe.g(t))if(t.vidvertoplayer)this.debug.error(203);else{switch(this.config.provider){case"hls":this.provider=new Oi(this);break;case"tts":this.provider=new Fi(this);break;case"html5":default:this.provider=new xi(this)}this.pluginManager=new Vi(this),this.pluginManager.ready().then(()=>{if(this.theme=new Mi(this),this.storage=new Ti,this.ui=this.pluginManager.getPlugin("ui"),this.fullscreen=new ri(this),this.sticky=new pi(this),this.visibilityObserver=new us(this),this.tracking=new vi(this),this.ads=new yi(this),this.playlist=new bi(this),this.program=new zi(this),this.ui.build(t),this.visibilityObserver.inject(),this.iframe=new Li(this),this.isInIframe&&this.iframe.bind(),!this.isInIframe&&this.isVideo&&this.sticky.inject(),t.vidvertoplayer=this,this.target=t,this.config.debug&&this.on(this.config.events.join(" "),t=>{this.debug.log(`event: ${t.type}`)}),this.we=null,this.X=!1,this.type in Ne&&Ne[this.type].call(this,this),Fe._(this.config.allowed_domains)){let t=window.location.hostname;if(ki()){const e=Pi().match(/^https?:\/\/([^/:?#]+)(?:[/:?#]|$)/i);t=(t=e&&e[1]).replace(/^www\./,"")}-1===this.config.allowed_domains.indexOf(t)&&-1===this.config.allowed_domains.indexOf("www."+t)||this.ads.inject()}else this.ads.inject();Fe.P(this.config.tracking.url)&&this.tracking.inject(),this.volume=this.config.volume,this.playlist.play(0,this.config.autoplay),ei.V&&this.config.autoplay})}else this.debug.error(201)}get media(){return this.ready?this.ui.media.element:null}get container(){return this.ready?this.ui.root.element:null}get isHTML5(){return this.provider.code===Le.html5}get isVideo(){return this.isSimpleVideo||this.isVideoArticle||this.isPlaylist||this.isPosition}get isSimpleVideo(){return this.type===De.simple}get isVideoArticle(){return this.type===De.video_article}get isPlaylist(){return this.type===De.playlist}get isReader(){return void 0!==this.config.audio.reader&&void 0!==this.config.audio.reader.id}get isAudio(){return this.type===De.audio}get isPosition(){return this.type===De.position}createResizeObserver(t){return new ls(t)}play(){const t=()=>{this.trigger("play_requested"),this.provider.play()};ei.V&&t(),this.ads.playAds().then(()=>{ei.V&&this.pause()}).catch(()=>{ei.V||t()})}pause(){this.playing&&this.provider.pause()}get playing(){return this.ready&&!this.paused&&!this.ended}get paused(){return this.provider.paused}get stopped(){return this.paused&&0===this.currentTime}get ended(){return this.provider.ended}get layout(){return this.ye}set layout(t){this.ye=t,this.trigger("layout_change")}togglePlay(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(Fe.v(t)?t:!this.playing)?this.play():this.pause()}stop(){this.pause(),this.restart()}restart(){this.currentTime=0}rewind(t){this.currentTime=this.currentTime-(Fe.l(t)?t:this.config.seekTime)}forward(t){this.currentTime=this.currentTime+(Fe.l(t)?t:this.config.seekTime)}set currentTime(t){this.provider.currentTime=Fe.l(t)&&t>0?t:0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){if(this.ads.manager.active){let t=this.ads.manager.currentTime;if(Fe.l(t))return t}return this.provider.currentTime}get buffered(){const t=this.provider.buffered;return Fe.l(t)?t:t&&t.length&&this.duration>0?t.end(0)/this.duration:0}get seeking(){return this.provider.seeking}get duration(){if(this.ads.manager.visible){let t=this.ads.manager.duration;if(Fe.l(t))return t}const t=this.provider.duration;return Fe.l(t)&&t!==1/0?t:0}set volume(t){let e=t;Fe.u(e)&&(e=Number(e)),Fe.l(e)||({volume:e}=this.config),e=Math.max(Math.min(e,1),0),this.config.volume=e,this.provider.volume=e,this.muted&&e>0&&(this.muted=!1)}get volume(){return Number(this.provider.volume)}increaseVolume(t){const e=this.provider.muted?0:this.volume;this.volume=e+(Fe.l(t)?t:0)}getElements(t){return this.container.querySelectorAll(t)}i18n(t){if(Fe.j(t))return"";let e=(this.config.i18n.hasOwnProperty(this.language)?this.config.i18n[this.language]:this.config.i18n[this.config.language.fallback])[t];return Fe.u(e)?e:t}get language(){let t=this.storage.read("language",this.config.language.current);if(Fe.j(t)){let e=navigator.language||navigator.userLanguage;t=Fe.u(e)?e.length>2?e.substring(0,2):e:this.config.language.fallback}return t}set language(t){this.storage.write("language",t),this.ui.root.onLanguageSwitch()}set muted(t){let e=t;Fe.v(e)||(e=this.config.mute),this.config.mute=e,this.provider.muted=e}get muted(){return this.provider.muted}set poster(t){this.isVideo?this.ready&&this.ui.poster&&this.ui.poster.setPoster(t,!1).catch(Oe):this.debug.warn(101)}get poster(){return this.isVideo?this.media.getAttribute("poster"):null}set autoplay(t){this.config.autoplay=Fe.v(t)?t:this.config.autoplay}get autoplay(){return this.config.autoplay}get originUrl(){return this.config.origin_url||Pi()}set originUrl(t){this.config.origin_url=t}get isAmp(){return this.config.is_amp}set isAmp(t){this.config.is_amp=t;const e=this.ui.root;Ze(e.element,"mw-amp",t),Ze(e.element,"mw-iframe",!1),Ze(e.element,"mw-script",!1)}on(t,e){this.ready?this.ui.root.live(t,e):this.pluginManager.ready().then(()=>this.ui.root.live(t,e))}once(t,e){this.ready?this.ui.root.once(this.ui.root.element,t,e):this.pluginManager.ready().then(()=>this.ui.root.once(this.ui.root.element,t,e))}off(t,e){this.ready?this.ui.root.die(t,e):this.pluginManager.ready().then(()=>this.ui.root.die(t,e))}trigger(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.ready?this.ui.root.trigger(t,e):this.pluginManager.ready().then(()=>this.ui.root.trigger(t,e))}destroy(){const t=()=>{this.pause(),this.ui.root.unbind(),delete this.target.vidvertoplayer,Ye(this.ui.root.element)};this.ready?t():this.pluginManager.ready().then(t)}iframeVisibility(t,e,i){if(!this.ready)return;const s=t<e+i*this.config.sticky.breakpoint;this.we!==s&&(s?(this.ads.manager.resume(),this.X&&this.play()):(this.X=!1,this.playing&&(this.X=!0,this.ads.manager.pause(),this.pause())),this.we=s)}static standalone(){const t=new URL(Te.i.location).searchParams.get("code");if(t){const e=mi(`m${t}`);Te.i.body.insertAdjacentHTML("beforeend",`<div id="${e}"></div>`),ni("".replace("{%code%}",t),"GET",null,"text",{"Content-type":"application/x-www-form-urlencoded","vidverto-referer":Pi()}).then(i=>{const s=Object.create(window.VidvertoPlayer.prototype);window.VidvertoPlayer.apply(s,[document.getElementById(e),Ve(i,{code:t})]),s.pluginManager.ready().then(()=>{setTimeout(()=>{s.on(xe.events.join(" "),t=>{window.parent.postMessage({mh:s.ui.root.element.offsetHeight,mw:s.ui.root.element.offsetWidth,cd:"#"+s.config.code,vidverto_event:{type:t.type,state:{volume:s.volume,currentTime:s.currentTime,paused:s.paused,playing:s.playing,muted:s.muted,duration:s.duration,dimensions:{width:s.ui.root.element.offsetWidth,height:s.ui.root.element.offsetHeight}}}},s.originUrl)})})})}).catch(t=>{console.error(t)})}}}});